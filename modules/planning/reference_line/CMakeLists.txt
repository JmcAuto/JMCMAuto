include_directories(${PROJECT_SOURCE_DIR})
include_directories(${CMAKE_CURRENT_BINARY_DIR})

add_library(reference_line
  reference_line.cc
  reference_point.cc
  reference_line.h
  reference_point.h)
target_link_libraries(reference_line
  log
  util
  /modules/common/math
  pnc_point_proto
  map_util
  point_factory
  /modules/map/pnc_map:path
  planning_gflags
  planning_proto
  com_google_absl//absl/strings)
add_library(reference_line_smoother INTERFACE)
target_link_libraries(reference_line_smoother INTERFACE
  reference_line_smoother_config_proto)
add_library(qp_spline_reference_line_smoother
  qp_spline_reference_line_smoother.cc
  qp_spline_reference_line_smoother.h)
target_link_libraries(qp_spline_reference_line_smoother
  reference_line
  reference_line_smoother
  curve_math
  polynomial_xd
  /modules/planning/math/smoothing_spline:active_set_spline_2d_solver
  /modules/planning/math/smoothing_spline:osqp_spline_2d_solver
  planning_proto
  reference_line_smoother_config_proto
  eigen)
add_library(discrete_points_reference_line_smoother
  discrete_points_reference_line_smoother.cc
  discrete_points_reference_line_smoother.h)
target_link_libraries(discrete_points_reference_line_smoother
  reference_line
  reference_line_smoother
  /modules/common/math
  /modules/common/time
  planning_gflags
  discrete_points_math
  /modules/planning/math/discretized_points_smoothing:cos_theta_smoother
  /modules/planning/math/discretized_points_smoothing:fem_pos_deviation_smoother
  planning_proto
  reference_line_smoother_config_proto)
add_library(reference_line_provider
  reference_line_provider.cc
  reference_line_provider.h)
target_link_libraries(reference_line_provider
  discrete_points_reference_line_smoother
  qp_spline_reference_line_smoother
  reference_line
  vehicle_config_helper
  factory
  vehicle_state_provider
  /modules/map/pnc_map
  indexed_queue
  planning_context
  planning_config_proto
  planning_status_proto
  eigen)


